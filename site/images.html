<!DOCTYPE HTML>
<html lang="en">
	<head>
		<title>Perlenspiel | API | Images</title>
		<meta charset="utf-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
		<meta name="description" content="Perlenspiel | API | Images"/>
		<meta name="keywords" content="perlenspiel, game, design, engine, gameclavier, moriarty, wpi"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="apple-mobile-web-app-capable" content="yes"/>
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
		<link rel="shortcut icon" href="http://users.wpi.edu/~bmoriarty/ps/favicon.png"/>
		<link rel="apple-touch-icon" href="http://users.wpi.edu/~bmoriarty/ps/apple-touch-icon.png"/>
		<link href='http://fonts.googleapis.com/css?family=Roboto:400,700,400italic,700italic,100' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" href="css/style.css" type="text/css">
		<script type="text/javascript" src="js/play.js"></script>
	</head>
	<body onload="PSA.dots();">
		<div id="header">
			<p><img src="images/logosm.png" alt="[Logo]"><strong>Perlenspiel<sup class="sup3">3</sup></strong></p>
			<ul id="nav">
				<li><a href="index.html">Home</a></li>
				<li><a href="download.html">Download</a></li>
				<li><a href="learning.html">Learning</a></li>
				<li><a href="examples.html">Examples</a></li>
				<li><a href="api.html">API</a></li>
				<li><a href="links.html">Links</a></li>
			</ul>
		</div>

		<div id="main">
			<p><strong>API | Images</strong></p>

			<p>These functions handle the loading and display of image files.</p>

			<ul class="select">
				<li><a href="#load">PS.imageLoad</a> ( filename, exec, format )</li>
				<li><a href="#blit">PS.imageBlit</a> ( image, x, y, region )</li>
				<li><a href="#capture">PS.imageCapture</a> ( format, region )</li>
				<li><a href="#dump">PS.imageDump</a> ( image, format, length, region )</li>
			</ul>

			<p id="image"><strong>About the image <em>object</em></strong></p>

			<p>Perlenspiel's image and sprite functions employ a common <em>object</em> format to represent the structure and data
				of a 2-dimensional image. This <em>object</em> contains six properties:</p>

			<ul>
				<li><b>.source</b> : <em>string</em></li>
				<li><b>.id</b> : <em>string</em></li>
				<li><b>.width</b> : <em>integer</em></li>
				<li><b>.height</b> : <em>integer</em></li>
				<li><b>.pixelSize</b> : <em>integer</em></li>
				<li><b>.data</b> : <em>integer array</em></li>
			</ul>

			<p>If the image was generated by a call to <a href="#load">PS.imageLoad</a>(), the <b>.source</b>
				property contains the <b>filename</b> <em>string</em> that was passed into that call.
				If the data was generated by <a href="#capture">PS.imageCapture</a>(), <b>.source</b>
				contains the constant <b>PS.GRID</b>.</p>

			<p>The <b>.id</b> property is set to a <em>string</em> that uniquely identifies the image <em>object</em>.
				If the data was generated by a call to <a href="#load">PS.imageLoad</a>(),
				this identifer will be identical to the <em>string</em> returned by that call.</p>

			<p>The <b>.width</b> and <b>.height</b> properties indicate the width and height of the image in pixels.</p>

			<p>The <b>.pixelSize</b> property indicates the format of the image's pixel data.
				Legal values of <b>pixelSize</b> are 1, 2, 3 or 4.</p>

			<ul>
				<li><strong>Format 1.</strong> The color components of each pixel are described by a single
					<a href="colors.html#plex">RGB multiplex</a> <em>integer</em> in the range 0 to 0xFFFFFF inclusive.
				</li>
				<li><strong>Format 2.</strong> Each pixel is described by <b>two</b> consecutive <em>integers</em>:
					an <a href="colors.html#plex">RGB multiplex</a> representing its color components,
					followed by an <em>integer</em> in the range 0-255 inclusive representing its alpha transparency.
				</li>
				<li><strong>Format 3.</strong> Each pixel is described by <b>three</b> consecutive <em>integers</em>
					in the range 0-255 inclusive, representing the red, green and blue color components.
				</li>
				<li><strong>Format 4.</strong> Each pixel is described by <b>four</b> consecutive <em>integers</em>
					in the range 0-255 inclusive, representing its red, green and blue color components, followed by its alpha transparency.
				</li>
			</ul>

			<p>The <b>.data</b> property is a flat array containing (<b>.width * .height * .pixelSize</b>) <em>integers</em>.
				Each consecutive series of <b>.pixelSize</b> <em>integers</em> describes a single pixel.
				The pixel data is arranged in order of increasing rows, beginning with row 0.</p>

			<p id="accuracy"><strong>Color accuracy</strong></p>

			<p>Certain image file formats, notably .png and .jpg, often contain embedded color profile data that affects the way colors are interpreted
				when they are loaded into Perlenspiel.</p>

			<p>If you load an image containing color profile data using
				<a href="#load">PS.imageLoad</a>(), the color values that appear in the <b>.data</b>
				property of the resulting imageData
				<em>object</em> probably won't match the values reported by your image editing software (such as Photoshop).
				This can be extremely annoying if you need the color data extracted from your images to exactly match specific values.
			</p>

			<p>There are two ways around this problem:</p>

			<ol>
				<li>Don't use .png or .jpg files. Use .bmp files instead, which do not contain embedded color profile data.</li>
				<li>Use one of the many tools available, such as
					<a href="http://pmt.sourceforge.net/pngcrush/">pngcrush</a> for Windows,
					that can strip embedded color profile data out of .png and .jpg files.
				</li>
			</ol>

			<div class="section">
				<div id="load" class="dot">&nbsp;</div>
				<p class="subhead">PS.imageLoad ( filename, exec, format )</p>
				<p>PS.imageLoad() loads an image file into an <a href="#image">image <em>object</em></a>.</p>
				<div class="specs">
					<p>Parameters:</p>
					<ol>
						<li><b>filename</b> : <em>string</em></li>
						<li><b>exec</b> : <em>function</em></li>
						<li>(optional) <b>format</b> : 1, 2, 3, 4 or <b>PS.DEFAULT</b></li>
					</ol>
					<p>Returns: <em>string</em> or <b>PS.ERROR</b></p>
				</div>

				<p>PS.imageLoad() attempts to asynchronously load the image specified by <b>filename</b>, which should
					be the name of a valid .bmp, .png or .jpg image. The name can be specified relative to the directory
					in which the associated script file is stored,
					or it can be a fully qualified filename.</p>

				<p>If you need to extract specific color values from your images, be sure to read the information on
					<a href="#accuracy">color accuracy</a> above.</p>

				<p>The <b>exec</b> parameter must be a valid Javascript function expecting at least one argument.
					When the image specified by
					<b>filename</b> is successfully loaded, this function is called with its first argument set to an
					<a href="#image">image <em>object</em></a> containing the loaded image, or <b>PS.ERROR</b> if an error occurs.</p>

				<p>The optional <b>format</b> parameter specifies the pixel format of the data that will be returned
					in the <a href="#image">image <em>object</em></a>. Legal values for this parameter are 1, 2, 3, 4 or
					<b>PS.DEFAULT</b>.
					Refer to the <a href="#image">image <em>object</em></a> documentation for an explanation of this parameter.</p>

				<p>If <b>format</b> is <b>PS.DEFAULT</b> or not supplied, the default data format (4) is used.</p>

				<p class="subitem">Usage notes</p>

				<p>1. PS.imageLoad() returns <b>PS.ERROR</b> if an obvious parameter error is detected. However, because file loads are asynchronous,
					any actual loading errors occur <em>after</em> PS.imageLoad() returns. This means that PS.imageLoad() returns a
					file identifier even if the file subsequently fails to load. To detect loading errors, inspect the parameter
					of your <b>exec</b> function, which will be <b>PS.ERROR</b> if something went wrong during the load.
					A system error message will also appear in the event of a failed load.</p>

				<div class="notebox">
					<p><strong>IMPORTANT:</strong>
						Webkit-based browsers, such as Chrome and Safari, are picky about security.
						By default, they will not load resources (including image and audio files) that (1) do not reside on an actual HTTP server,
						and (2) do not share the root filepath of any script that tries to access them. This means that you have to install all of your
						scripts, images and audio files on a live server, in the same root filepath, before you can test or deploy an application using these browsers.
						(It's possible to reconfigure the browsers to avoid this necessity, but this is not recommended.)</p>

					<p>A basic application directory might look like this:</p>

					<p><code>/images/ (a folder for your image files)<br>
						/audio/ (a folder for your audio files, if any)<br>
						game.html (the Perlenspiel web page)<br>
						*.js (your game scripts)</code></p>

					<p>Firefox is currently more lenient about security. Resource files don't need to be on a server, or share the same root filepath.
						This may change in the future.</p>
				</div>

				<p class="subitem">Return value</p>

				<p>PS.imageLoad() returns a string that uniquely identifies the loaded image file. This string also appears in the
					<b>.id</b> property of the <a href="#image">image <em>object</em></a> created by the call.</p>

				<p> A new identifier is generated by each call to PS.imageLoad(). If you load the same image file more than once for some reason,
					each load instance will be assigned a different identifier.</p>

				<p><b>PS.ERROR</b> is returned if an error occurs.</p>

				<p>See below for an example of how to use PS.imageLoad().</p>

			</div>

			<div class="section">
				<div id="blit" class="dot">&nbsp;</div>
				<p class="subhead">PS.imageBlit ( image, xpos, ypos, region )</p>
				<p>PS.imageBlit() blits an <a href="#image">image <em>object</em></a> to the current grid plane
					at the specified coordinates.</p>
				<div class="specs">
					<p>Parameters:</p>
					<ol>
						<li><b>image</b> : <em>object</em></li>
						<li><b>xpos</b> : <em>integer</em></li>
						<li><b>ypos</b> : <em>integer</em></li>
						<li>(optional) <b>region</b> : <em>object</em></li>
					</ol>
					<p>Returns: <em>true</em>, <em>false</em> or <b>PS.ERROR</b></p>
				</div>

				<p>The required <b>imagedata</b> parameter must be a reference to an <a href="#image">image <em>object</em></a>,
					such as those passed into the loader function of a successful <a href="#load">PS.imageLoad</a>() call,
					or the <em>object</em> returned by a call to <a href="#capture">PS.imageCapture</a>().</p>

				<p>The required <b>xpos</b> and <b>ypos</b> parameters specify the position on the grid where the top left
					corner of the <b>image</b> will be located. They can be any positive or negative
					<em>integers</em>. Non-integral values
					are floored.</p>

				<p>The optional <b>region</b> parameter specifies a zero-based rectangular region inside the <b>image</b> that will
					be used for the blit. It should be an <em>object</em> containing any of the following properties:</p>

				<ul>
					<li><b>.left</b> : <em>integer</em> or <b>PS.DEFAULT</b></li>
					<li><b>.top</b> : <em>integer</em> or <b>PS.DEFAULT</b></li>
					<li><b>.width</b> : <em>integer</em> or <b>PS.DEFAULT</b></li>
					<li><b>.height</b> : <em>integer</em> or <b>PS.DEFAULT</b></li>
				</ul>

				<p>The <b>.left</b> property should be an <em>integer</em> between zero (0) and (<b>image.width</b> - 1), inclusive.
					Non-integral values are floored.
					An error occurs if <b>.left</b> is greater than or equal to <b>image.width</b>.
					If <b>.left</b> is less than zero, <b>PS.DEFAULT</b> or not supplied, the value zero (0) is used.</p>

				<p>The <b>.top</b> property should be an <em>integer</em> between zero (0) and (<b>image.height</b> - 1), inclusive.
					Non-integral values are floored.
					An error occurs if <b>.top</b> is greater than or equal to <b>image.height</b>.
					If <b>.top</b> is less than zero, <b>PS.DEFAULT</b> or not supplied, the value zero (0) is used.</p>

				<p>The <b>.width</b> property should be an <em>integer</em> between one (1) and <b>image.width</b>, inclusive.
					Non-integral values are floored.
					If <b>.width</b> is less than one (1), <b>PS.DEFAULT</b>, not supplied,
					or (<b>.width</b> - <b>.left</b>) is greater than <b>image.width</b>, the value (<b>image.width</b> -
					<b>.left</b>) is used.</p>

				<p>The <b>.height</b> property should be an <em>integer</em> between one (1) and <b>image.height</b>, inclusive.
					Non-integral values are floored.
					If <b>.height</b> is less than one (1), <b>PS.DEFAULT</b>, not supplied,
					or (<b>.height</b> - <b>.top</b>) is greater than <b>image.height</b>, the value (<b>image.height</b> -
					<b>.top</b>) is used.</p>

				<p>If <b>region</b> is <b>PS.DEFAULT</b> or not supplied, the entire <b>image</b> is blitted to the grid.</p>

				<p class="subitem">Usage notes</p>

				<p>1. The <b>xpos</b> and <b>ypos</b> parameters can be negative, or larger than the current grid. If this happens,
					some or all of the blitted <b>image</b> will not be visible.</p>

				<p>2. Existing bead borders and glyphs are not affected when drawing with PS.imageBlit().</p>

				<p>3. When using PS.imageBlit() with an <a href="#image">image
					<em>object</em></a> containing alpha data (formats 2 and 4),
					the image is transparently blended against the beads currently on the grid. The transparency calculation takes into account the effect of alpha values
					already assigned to the beads on the grid; that is, the calculation is based on the
					<em>alpha-adjusted</em> color of the existing beads. However,
					regardless of whether or not a blitted image includes alpha, the alpha assigned to the beads affected by PS.imageBlit() is not changed.
				</p>

				<p class="subitem">Return value</p>

				<p>PS.imageBlit() returns <em>true</em> if any part of <b>image</b> was actually drawn to the grid, or
					<em>false</em> if nothing was drawn.</p>

				<p><b>PS.ERROR</b> is returned if an error occurs.</p>

				<div class="example">
					<p>// EXAMPLE:<br/>
						// Bit an image file onto the grid<br/><br/>
						PS.init = function( system, options ) {<br/>
						<span>&nbsp;&nbsp;&nbsp;</span>"use strict";<br/><br/>
						<span>&nbsp;&nbsp;&nbsp;</span>// set up 32 x 32 grid<br/><br/>
						<span>&nbsp;&nbsp;&nbsp;</span>PS.gridSize( 32, 32 );<br/><br/>
						<span>&nbsp;&nbsp;&nbsp;</span>// Load the image file<br/>
						<span>&nbsp;&nbsp;&nbsp;</span>// Parameter 1 is your image file<br/>
						<span>&nbsp;&nbsp;&nbsp;</span>// Parameter 2 is the function that<br/>
						<span>&nbsp;&nbsp;&nbsp;</span>// will be called when the image is<br/>
						<span>&nbsp;&nbsp;&nbsp;</span>// finished loading<br/><br/>
						<span>&nbsp;&nbsp;&nbsp;</span>PS.imageLoad( "kitten.bmp", myLoader );<br/>
						};<br/><br/>
						// This is the image loader function<br/><br/>
						function myLoader( image ) {<br/>
						<span>&nbsp;&nbsp;&nbsp;</span>"use strict";<br/><br/>
						<span>&nbsp;&nbsp;&nbsp;</span>// The image argument of myLoader() is passed<br/>
						<span>&nbsp;&nbsp;&nbsp;</span>// an image object representing kitten.bmp<br/><br/>
						<span>&nbsp;&nbsp;&nbsp;</span>// Blit the entire image to the grid<br/>
						<span>&nbsp;&nbsp;&nbsp;</span>// with its top left corner at 0, 0<br/><br/>
						<span>&nbsp;&nbsp;&nbsp;</span>PS.imageBlit( image, 0, 0 );<br/>
						};</p>
				</div>

			</div>

			<div class="section">
				<div id="capture" class="dot">&nbsp;</div>
				<p class="subhead">PS.imageCapture ( format, region )</p>
				<p>PS.imageCapture() creates an <a href="#image">image <em>object</em></a> based on the current bead colors in the grid.</p>
				<div class="specs">
					<p>Parameters:</p>
					<ol>
						<li>(optional) <b>format</b> : <em>integer</em> or <b>PS.DEFAULT</b></li>
						<li>(optional) <b>region</b> : <em>object</em> or <b>PS.DEFAULT</b></li>
					</ol>
					<p>Returns: <em>object</em> or <b>PS.ERROR</b></p>
				</div>

				<p>The optional <b>format</b> parameter specifies the pixel format of the data that will be returned
					in the <a href="#image">image <em>object</em></a>. Legal values for this parameter are 1, 2, 3, 4 or
					<b>PS.DEFAULT</b>.
					Refer to the <a href="#image">image <em>object</em></a> documentation for an explanation of this parameter.</p>

				<p>If <b>format</b> is <b>PS.DEFAULT</b> or not supplied, the default format (3) is used.</p>

				<p>The optional <b>region</b> parameter specifies a zero-based rectangular region of the grid that will
					be used to create the <a href="#image">image <em>object</em></a>.
					It should be an <em>object</em> containing any of the following properties:</p>

				<ul>
					<li><b>.left</b> : <em>integer</em> or <b>PS.DEFAULT</b></li>
					<li><b>.top</b> : <em>integer</em> or <b>PS.DEFAULT</b></li>
					<li><b>.width</b> : <em>integer</em> or <b>PS.DEFAULT</b></li>
					<li><b>.height</b> : <em>integer</em> or <b>PS.DEFAULT</b></li>
				</ul>

				<p>The <b>.left</b> property should be an <em>integer</em> between zero (0) and (grid_width - 1), inclusive.
					Non-integral values are floored.
					An error occurs if <b>.left</b> is greater than or equal to the grid width.
					If <b>.left</b> is less than zero, <b>PS.DEFAULT</b> or not supplied, the value zero (0) is used.</p>

				<p>The <b>.top</b> property should be an <em>integer</em> between zero (0) and (grid_height - 1), inclusive.
					Non-integral values are floored.
					An error occurs if <b>.top</b> is greater than or equal to the grid height.
					If <b>.top</b> is less than zero, <b>PS.DEFAULT</b> or not supplied, the value zero (0) is used.</p>

				<p>The <b>.width</b> property should be an <em>integer</em> between one (1) and the grid width, inclusive.
					Non-integral values are floored.
					If <b>.width</b> is less than one (1), <b>PS.DEFAULT</b>, not supplied,
					or (<b>.width</b> - <b>.left</b>) is greater than the grid width, the value (grid_width - <b>.left</b>) is used.
				</p>

				<p>The <b>.height</b> property should be an <em>integer</em> between one (1) and the grid height, inclusive.
					Non-integral values are floored.
					If <b>.height</b> is less than one (1), <b>PS.DEFAULT</b>, not supplied,
					or (<b>.height</b> - <b>.top</b>) is greater than the grid height, the value (grid_height -
					<b>.top</b>) is used.</p>

				<p>If <b>region</b> is <b>PS.DEFAULT</b> or not supplied, the entire grid is used.</p>

				<p class="subitem">Usage notes</p>

				<p>1. The image returned by PS.imageCapture() represents the <em>visible</em> state of the grid, taking into
					effect all image planes, alpha transparency, sprites, etc.</p>

				<p>2. The value returned by PS.imageCapture() can be passed
					to any Perlenspiel function expecting an <a href="#image">image <em>object</em></a>.</p>

				<p class="subitem">Return value</p>

				<p>PS.imageCapture() returns an <a href="#image">image <em>object</em></a> in the specified format,
					representing the current bead colors of the grid.</p>

				<p><b>PS.ERROR</b> is returned if an error occurs.</p>

			</div>

			<div class="section">
				<div id="dump" class="dot">&nbsp;</div>
				<p class="subhead">PS.imageDump ( image, region, format, length, hex )</p>
				<p>PS.imageDump() outputs a formatted text representation of an <a href="#image">image <em>object</em></a>
					into the debugger.</p>
				<div class="specs">
					<p>Parameters:</p>
					<ol>
						<li><b>image</b> : <em>object</em></li>
						<li>(optional) <b>region</b> : <em>object</em> or <b>PS.DEFAULT</b></li>
						<li>(optional) <b>format</b> : <em>integer</em> or <b>PS.DEFAULT</b></li>
						<li>(optional) <b>length</b> : <em>integer</em> or <b>PS.DEFAULT</b></li>
						<li>(optional) <b>hex</b> : <em>boolean</em> or <b>PS.DEFAULT</b></li>
					</ol>
					<p>Returns: <b>PS.DONE</b> or <b>PS.ERROR</b></p>
				</div>

				<p>The required <b>image</b> parameter must be a reference to a valid <a href="#image">image <em>object</em></a>.</p>

				<p>The optional <b>region</b> parameter specifies a zero-based rectangular region inside the <b>image</b> that will
					be used for the dump. It should be an <em>object</em> containing any of the following properties:</p>

				<ul>
					<li><b>.left</b> : <em>integer</em> or <b>PS.DEFAULT</b></li>
					<li><b>.top</b> : <em>integer</em> or <b>PS.DEFAULT</b></li>
					<li><b>.width</b> : <em>integer</em> or <b>PS.DEFAULT</b></li>
					<li><b>.height</b> : <em>integer</em> or <b>PS.DEFAULT</b></li>
				</ul>

				<p>The <b>.left</b> property should be an <em>integer</em> between zero (0) and (<b>image.width</b> - 1), inclusive.
					Non-integral values are floored.
					An error occurs if <b>.left</b> is greater than or equal to <b>image.width</b>.
					If <b>.left</b> is less than zero, <b>PS.DEFAULT</b> or not supplied, the value zero (0) is used.</p>

				<p>The <b>.top</b> property should be an <em>integer</em> between zero (0) and (<b>image.height</b> - 1), inclusive.
					Non-integral values are floored.
					An error occurs if <b>.top</b> is greater than or equal to <b>image.height</b>.
					If <b>.top</b> is less than zero, <b>PS.DEFAULT</b> or not supplied, the value zero (0) is used.</p>

				<p>The <b>.width</b> property should be an <em>integer</em> between one (1) and <b>image.width</b>, inclusive.
					Non-integral values are floored.
					If <b>.width</b> is less than one (1), <b>PS.DEFAULT</b>, not supplied,
					or (<b>.width</b> - <b>.left</b>) is greater than <b>image.width</b>, the value (<b>image.width</b> -
					<b>.left</b>) is used.</p>

				<p>The <b>.height</b> property should be an <em>integer</em> between one (1) and <b>image.height</b>, inclusive.
					Non-integral values are floored.
					If <b>.height</b> is less than one (1), <b>PS.DEFAULT</b>, not supplied,
					or (<b>.height</b> - <b>.top</b>) is greater than <b>image.height</b>, the value (<b>image.height</b> -
					<b>.top</b>) is used.</p>

				<p>If <b>region</b> is <b>PS.DEFAULT</b> or not supplied, the entire <b>image</b> is dumped.</p>

				<p>The optional <b>format</b> parameter specifies the pixel format of the data that will be returned
					in the <a href="#image">image <em>object</em></a>. Legal values for this parameter are 1, 2, 3, 4 or
					<b>PS.DEFAULT</b>.
					Refer to the <a href="#image">image <em>object</em></a> documentation for an explanation of this parameter.</p>

				<p>If <b>format</b> is <b>PS.DEFAULT</b> or not supplied, <b>image.pixelSize</b> is used.</p>

				<p>The optional <b>length</b> parameter specifies the number of pixels that will be included in
					each line of debugger output. It should be a positive integer between one (1) and (<b>image.width * image.height</b>),
					inclusive. Values outside this range are clamped. Non-integral values are floored.</p>

				<p>If <b>length</b> is <b>PS.DEFAULT</b> or not supplied, the value <b>image.width</b> is used.</p>

				<p>The optional <b>hex</b> parameter specifies the numeric base of the pixel data values.
					If <b>hex</b> is <em>true</em>, any non-zero number, <b>PS.DEFAULT</b> or not supplied, the data is
					output in hexadecimal (base 16). If <b>hex</b> is
					<em>false</em> or zero (0), the data is output in decimal (base 10).</p>

				<p class="subitem">Usage notes</p>

				<p>The text dumped into the debugger by PS.imageDump() is formatted as a valid Javascript representation
					of the specified <a href="#image">image <em>object</em></a>.</p>

				<p>You can cut and paste this text into your source code, assign it to a variable or property,
					and thereafter use that variable or property as a parameter to any Perlenspiel function expecting an
					<a href="#image">image <em>object</em></a>.
					This technique effectively &ldquo;hardwires&rdquo; the image into your code,
					eliminating the need to load an image file during a game.</p>

				<p class="subitem">Return value</p>

				<p>PS.imageDump() returns <b>PS.DONE</b> if the call is successful, else <b>PS.ERROR</b>.</p>

				<div class="example">
					<p>// EXAMPLE:<br/>
						// Load an image file and dump it to the debugger<br/><br/>
						PS.init = function( system, options ) {<br/>
						<span>&nbsp;&nbsp;&nbsp;</span>"use strict";<br/><br/>
						<span>&nbsp;&nbsp;&nbsp;</span>// set up 32 x 32 grid<br/><br/>
						<span>&nbsp;&nbsp;&nbsp;</span>PS.gridSize( 32, 32 );<br/><br/>
						<span>&nbsp;&nbsp;&nbsp;</span>// Load the image file<br/>
						<span>&nbsp;&nbsp;&nbsp;</span>// Parameter 1 is your image file<br/>
						<span>&nbsp;&nbsp;&nbsp;</span>// Parameter 2 is the function that<br/>
						<span>&nbsp;&nbsp;&nbsp;</span>// will be called when the image is<br/>
						<span>&nbsp;&nbsp;&nbsp;</span>// finished loading<br/><br/>
						<span>&nbsp;&nbsp;&nbsp;</span>PS.imageLoad( "zombie.bmp", myLoader );<br/>
						};<br/><br/>
						// This is the image loader function<br/><br/>
						function myLoader( image ) {<br/>
						<span>&nbsp;&nbsp;&nbsp;</span>"use strict";<br/><br/>
						<span>&nbsp;&nbsp;&nbsp;</span>// The image argument of myLoader() is passed<br/>
						<span>&nbsp;&nbsp;&nbsp;</span>// an image object representing zombie.bmp<br/><br/>
						<span>&nbsp;&nbsp;&nbsp;</span>// Dump the image object to the debugger<br/>
						<span>&nbsp;&nbsp;&nbsp;</span>// so you can inspect, cut and/or paste it<br/><br/>
						<span>&nbsp;&nbsp;&nbsp;</span>PS.imageDump( image );<br/>
						};</p>
				</div>

			</div>

		</div>

		<div id="footer">
			<p>Interactive Media and Game Development<br/>
				Worcester Polytechnic Institute<br/>
				100 Institute Road, Worcester, MA 01609 USA<br/>
				<a href="http://imgd.wpi.edu">imgd.wpi.edu</a><br/>&nbsp;</p>
		</div>
	</body>
</html>

